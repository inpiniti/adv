import{a as E,_ as H}from"./_KoRaoFi.js";import{_ as D,p as N,f as S,a as b,F as j,L as M,b as U,k as X,g as G,c as K}from"./CJnucW8x.js";import{n as u,o as d,x as _,w as l,C as f,E as v,G as $,u as e,c as k,H as B,B as h,D as y,b as r,a as F,r as C,d as g,s as q}from"./DvAY-tOQ.js";import{c as m}from"./BLYTg4dL.js";import{c as J}from"./r59y-1-a.js";import{d as Q,u as W}from"./cfBU7kRw.js";import"./Bb4qSo10.js";/**
 * @license lucide-vue-next v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=J("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Z=u({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(a,{emit:t}){const n=D(a,t);return(c,i)=>(d(),_(e(N),v($(e(n))),{default:l(()=>[f(c.$slots,"default")]),_:3},16))}}),ee=u({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(a){const t=a;return(o,s)=>(d(),_(e(S),v($(t)),{default:l(()=>[f(o.$slots,"default")]),_:3},16))}}),te=u({__name:"DialogHeader",props:{class:{}},setup(a){const t=a;return(o,s)=>(d(),k("div",{class:B(e(m)("flex flex-col gap-y-1.5 text-center sm:text-left",t.class))},[f(o.$slots,"default")],2))}}),ae=u({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,o=h(()=>{const{class:n,...c}=t;return c}),s=b(o);return(n,c)=>(d(),_(e(j),y(e(s),{class:e(m)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:l(()=>[f(n.$slots,"default")]),_:3},16,["class"]))}}),se=u({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(a){const t=a,o=h(()=>{const{class:n,...c}=t;return c}),s=b(o);return(n,c)=>(d(),_(e(M),y(e(s),{class:e(m)("text-sm text-muted-foreground",t.class)}),{default:l(()=>[f(n.$slots,"default")]),_:3},16,["class"]))}}),oe=F("span",{class:"sr-only"},"Close",-1),ne=u({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(a,{emit:t}){const o=a,s=t,n=h(()=>{const{class:i,...p}=o;return p}),c=D(n,s);return(i,p)=>(d(),_(e(K),null,{default:l(()=>[r(e(U),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),r(e(X),y(e(c),{class:e(m)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:l(()=>[f(i.$slots,"default"),r(e(G),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:l(()=>[r(e(Y),{class:"w-4 h-4"}),oe]),_:1})]),_:3},16,["class"])]),_:3}))}}),le=u({__name:"DialogFooter",props:{class:{}},setup(a){const t=a;return(o,s)=>(d(),k("div",{class:B(e(m)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",t.class))},[f(o.$slots,"default")],2))}});function ce(){const a=C([]),t=s=>{const n=new FileReader;n.onload=c=>{a.value.push({...s,content:c.target.result})},n.readAsDataURL(s)};return{files:a,handleFileInput:s=>{a.value.splice(0),console.log("handleFileInput event: "+s);for(const n of s.target.files)t(n)}}}const re=F("div",null," 시안 이미지를 업로드 하여주세요. (jpg, png, gif, bmp, svg, webp 등) ",-1),ge={__name:"dialog",setup(a){const{handleFileInput:t,files:o}=ce(),s=async()=>{await n(),await c(),i.value=!1};async function n(){const p=q().value;await $fetch("/api/draft",{method:"POST",body:{work_id:p.id,files:o.value}})}async function c(){const p=Q();p.value=await W().get()}const i=C(!1);return(p,x)=>{const w=E,P=ee,I=ae,z=H,O=se,T=te,L=le,R=ne,V=Z;return d(),_(V,{open:e(i),"onUpdate:open":x[0]||(x[0]=A=>i.value=A)},{default:l(()=>[r(P,null,{default:l(()=>[r(w,null,{default:l(()=>[g("시안 등록")]),_:1})]),_:1}),r(R,null,{default:l(()=>[r(T,null,{default:l(()=>[r(I,null,{default:l(()=>[g("시안 등록")]),_:1}),r(O,{class:"flex flex-col gap-4"},{default:l(()=>[re,r(z,{type:"file",onInput:e(t)},null,8,["onInput"])]),_:1})]),_:1}),r(L,null,{default:l(()=>[r(w,{onClick:s},{default:l(()=>[g(" 시안 등록")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}};export{ge as default};
